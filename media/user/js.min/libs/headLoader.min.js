/**
 * @link : https://github.com/baiyukey/headLoader
 * @version : 2.5.9
 * @update : 2025-07-07 05:36:10
 * @copyright : http://www.uielf.cn
 */
function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,o){try{var i=t[r](o),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){a("next",e)},function(e){a("throw",e)});e(s)}("next")})}}const headLoaderSource=function(){const e="null"===window.location.origin||window.location.origin===window.top.location.origin?window.top:window,t=e.location.hostname;e[t]?e[t].temp||(e[t].temp={}):e[t]={temp:{}};const n=document.head,a=e=>Object.prototype.toString.call(e).slice(8,-1);if(!e.Promise)return e.onload=function(){document.body.innerHTML='<div style="text-align:center"><ul style="display:inline-block;margin-top:20px;text-align:left;list-style:none;line-height:32px;"><li style="list-style:none;"><h3>抱歉，您的浏览器不支持运行当前页面！</h3>如下两种方法供您参考：</li><li>✱ 请将您的浏览器切换到 "极速内核" (如果有)。</li><li>✱ <a href="https://www.google.cn/chrome/">或者下载安装 "chrome" 浏览器后重试。</a></li></ul></div>'};const r=e.XMLHttpRequest,o=/^(((192\.168|172\.([1][6-9]|[2]\d|3[01]))(\.([2][0-4]\d|[2][5][0-5]|[01]?\d?\d)){2}|10(\.([2][0-4]\d|[2][5][0-5]|[01]?\d?\d)){3})|(localhost)|(127.0.0.1))$/.test(e.location.hostname)?"":".min",i={0:"网络连接失败。",404:"该资源找不到了。",500:"无权访问。",503:"该请求已被阻止。"},s=function(e,t){if(""===o)return Date.now();let n=new Date("2000/1/1").getTime();return n+1e3*Math.ceil((Date.now()-1e3*(t||0)*60*60-n)/(36e5*e))*60*60*e+1e3*(t||0)*60*60},l=e=>e.replace(/^.*\.(\w*)[?#]*.*$/,"$1");let c=new function(){let e="";for(let t=48;t<=122;t++)t>=58&&t<=64||t>=91&&t<=96||(e+=String.fromCharCode(t));const t=(e=(e=e.replace(/[aeiouAEIOU01]/g,"")).slice(0,18)+"$-_+!*"+e.slice(18)).length,n=location.host.length;let a=-1,r="",o="";this.encode=function(i){r=encodeURIComponent(i).replace(/\./g,"&dot"),o="",a=-1;for(let i=0;i<r.length;i++)a=e.indexOf(r.charAt(i)),o+=a<0?r.charAt(i):e.charAt((a+n)%t);return o},this.decode=function(a){let r="",o=-1;for(let i=0;i<a.length;i++)if((o=e.indexOf(a.charAt(i)))<0)r+=a.charAt(i);else{let a=(o-n)%t;a<0&&(a+=t),r+=e.charAt(a)}return r=r.replace(/&dot/g,"."),decodeURIComponent(r)}},u=function(n){let r={database:"localDB",tables:{data:["key","value","version"]},lifeCycle:0,cycleDelay:0};Object.assign(r,n),"Array"===a(n.lifeCycle)&&(r.lifeCycle=n.lifeCycle[0],r.cycleDelay=n.lifeCycle[1]),r.version=s(r.lifeCycle,r.cycleDelay);e.localDBResult=e.localDBResult||null,e.localDBStatus=e.localDBStatus||0;const i=function(t){return new Promise((t,n)=>{if(null!==e.localDBResult&&1===e.localDBStatus)return t("success");let a=e.indexedDB.open(r.database);a.onsuccess=function(n){e.localDBResult=a.result,e.localDBStatus=1,t(n)},a.onupgradeneeded=function(a){e.localDBResult=a.target.result,e.localDBStatus=1;let o=Object.keys(r.tables);for(const t of o)if(!e.localDBResult.objectStoreNames.contains(t)){let n=e.localDBResult.createObjectStore(t,{keyPath:"key"});r.tables[t].forEach(e=>n.createIndex(e,["key"],{unique:!0}))}a.target.transaction.oncomplete=function(){t(e.localDBResult)},a.target.transaction.onerror=function(e){n(e)}},a.onerror=function(e){n(e)}})},l=function(t=100){return new Promise((n,a)=>{void 0!==e.waitCloseLocalDB&&clearTimeout(e.waitCloseLocalDB);e.waitCloseLocalDB=setTimeout(()=>{(()=>{if(e.localDBResult)if(1===e.localDBStatus)try{e.localDBResult.close(),e.localDBStatus=0,n(0===t?"已立即关闭数据库！":"关闭数据库成功！")}catch(e){a("关闭数据库失败:",e)}else 0===e.localDBStatus&&n("数据库已经是关闭状态。");else n("数据库不存在。")})()},t)})},u=function(){return new Promise(function(t,n){void 0!==e.waitDeleteDB&&clearTimeout(e.waitDeleteDB);let a=0;const o=function(){if(++a>10)return null===e.localDBResult?(console.log("数据库不存在或已删除。"),t("数据库不存在或已删除。")):(console.error("删除数据库失败，已达到最大重试次数 10"),n("删除数据库失败，已达到最大重试次数 10"));a>1&&console.warn(`${200*a/1e3}秒后尝试第${a}次删除操作（共10次）。`),console.log("正在关闭数据库..."),l(10===a?0:200*a).then(e=>{console.log(e);const n=indexedDB.deleteDatabase(r.database);console.log("正在执行删除数据库,请稍候..."),n.onsuccess=(()=>{L.temp={},console.log("删除数据库成功！"),t("删除数据库成功")}),n.onerror=(e=>{console.error(`删除数据库出错:'${e.target.error}...`),o()}),n.onblocked=(()=>{console.error("删除数据库被阻塞，等待其他连接关闭..."),o()})}).catch(e=>{console.error("数据库关闭失败，等待其他连接完成..."),o()})};e.waitDeleteDB=setTimeout(o,100)})},d=function(){let t={key:"",value:null,etag:"",exception:!1,version:r.version},n="data";return"object"==typeof arguments[0]?Object.assign(t,arguments[0]):(t.key=arguments[0]||t.key,t.value=arguments[1]||t.value,n=arguments[2]||n),new Promise((a=_asyncToGenerator(function*(a,r){let s={};Object.keys(t).forEach(function(e){s[e]="key"!==e?t[e]:""===o?t[e]:c.encode(t[e])});let u="add";if(yield y(t.key).then(function(e){u=e?"put":"add"}).catch(function(e){u="add"}),!e.localDBResult)return r("数据库不存在或已删除");yield i();let d=e.localDBResult.transaction(n,"readwrite").objectStore(n)[u](s);var f;d.onsuccess=_asyncToGenerator(function*(){L.temp[s.key]=s,a(s),yield l()}),d.onerror=(f=_asyncToGenerator(function*(e){r(e.target.error),yield l()}),function(e){return f.apply(this,arguments)})}),function(e,t){return a.apply(this,arguments)}));var a},y=function(t,n){return new Promise((a=_asyncToGenerator(function*(a,r){let s={},u=""===o?t:c.encode(t);const d=n||"data";let f=(y=_asyncToGenerator(function*(){yield i();let t=e.localDBResult.transaction(d,"readonly").objectStore(d).index("key").get([u]);var n,o;t.onsuccess=(n=_asyncToGenerator(function*(e){(s=e.target.result)&&(Object.assign(s,{key:u}),L.temp[u]=s),a(s),yield l()}),function(e){return n.apply(this,arguments)}),t.onerror=(o=_asyncToGenerator(function*(e){r(e),yield l()}),function(e){return o.apply(this,arguments)})}),function(){return y.apply(this,arguments)});var y;if(s=L.temp[u])return a(Object.assign(s,{key:u})),!0;yield f()}),function(e,t){return a.apply(this,arguments)}));var a},h=(p=_asyncToGenerator(function*(e){let t=yield y(e);return!!t&&(!!t.version&&(!(Date.now()>t.version)&&t.value))}),function(e){return p.apply(this,arguments)});var p;const m=(g=_asyncToGenerator(function*(e){let t=yield y(e);return t?t.version:0}),function(e){return g.apply(this,arguments)});var g;const b=(v=_asyncToGenerator(function*(e,t){let n=f(e,"css");return yield y(L.getUrl(n,"css"),t||"data")}),function(e,t){return v.apply(this,arguments)});var v;const w=(D=_asyncToGenerator(function*(e,t){let n=f(e,"html");return yield y(L.getUrl(n,"html"),t||"data")}),function(e,t){return D.apply(this,arguments)});var D;const C=(T=_asyncToGenerator(function*(e,t){let n=f(e,"js");return yield y(L.getUrl(n,"js"),t||"data")}),function(e,t){return T.apply(this,arguments)});var T;const j=(A=_asyncToGenerator(function*(e){let t=yield y(e);return!!t&&((e,t)=>{let n=[],a=new Uint8Array(e);for(let e=0;e<a.byteLength;e++)n.push(String.fromCharCode(a[e]));return`data:image/${t};base64,${window.btoa(n.join(""))}`})(t.value,(e=>{let t=e.replace(/^.*\.(\w*)[?#]*.*$/,"$1");return e!==t&&t})(e)||"jpeg")}),function(e){return A.apply(this,arguments)});var A;(function(){return!!(e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.msIndexedDB)||(console&&console.log("您的浏览器不支持indexedDB，请使用现代浏览器，例如chrome,firefox等."),!1)})&&(this.open=i,this.close=l,this.delete=u,this.setItem=d,this.getItem=y,this.setValue=d,this.getValue=h,this.getEndTime=m,this.getCss=b,this.getHtml=w,this.getJs=C,this.getBase64=j,this.temp=e[t].temp);let L=this};e.localDB=u;let d,f=(e,t)=>e&&t?e.replace(/^(\s*)|(\s*)$/g,"").replace(`(.${t})`,""):e&&!t?e.replace(/^(\s*)|(\s*)$/g,"").replace(`(.${l(e)}`,""):e,y=function(t){let d=void 0!==t?t:{};this.isLocal=""===o,this.dataDir=d.dataDir||"",this.dataCss=d.dataCss||[],this.dataJs=d.dataJs||[],this.dataFont=d.dataFont||[],this.dataFile=d.dataFile||[],this.lifeCycle="object"==typeof d.lifeCycle?d.lifeCycle[0]:d.lifeCycle||24,this.cycleDelay="object"==typeof d.lifeCycle?d.lifeCycle[1]:d.cycleDelay||0,this.dataActive=d.dataActive||v,this.callback=d.callback||null,this.multiLoad=d.multiLoad||".min"===o,this.showLog=d.showLog||!1,this.preload=void 0!==d.preload?d.preload:0;let y=function(e,t){t.length>0&&t.forEach(function(t){e.setAttribute(t.split("=")[0],t.split("=")[1])})};void 0===e.headLoaderCache&&(e.headLoaderCache={});let h=function(e,t,n){return H.dataActive&&["js","css"].includes(t)?`${H.dataDir}${t}${o}/${e.split("|")[0]}`.replace("."+(n||t),"")+o+"."+(n||t):e},p=function(e,t){return["js","css"].includes(t)?(H.dataDir+t+o+"/"+e.split("|")[0]).replace("."+t,"")+o+"."+t:e},m=function(e,t){return new Promise((a,o)=>{if(!e)return a(2);Number(e.version)<Number(H.requestVersion)?""===e.etag?a(2):(n=t,new Promise((e,t)=>{let a=new r;a.open("HEAD",n,!0),a.send(),a.onreadystatechange=function(){4===Number(a.readyState)&&200===Number(a.status)&&e(a.getResponseHeader("etag")||a.getResponseHeader("last-modified")||"")},a.onerror=(e=>t(e))})).then(t=>{e.etag===t?a(1):a(2)}).catch(e=>o(e)):a(0)});var n},g=(b=_asyncToGenerator(function*(e,t){return new Promise(function(n,a){if((e=>/^http[s]?:\/\//.test(e))(e))return"js"===t?x(e):"css"===t&&S(e),n("success");let o=h(e,t)+(e.indexOf("?")>=0?"&v=":"?v=")+H.requestVersion,s=p(e,t),c=(u=_asyncToGenerator(function*(e,t){let c={};if(Object.assign(c,{key:s,value:t?t.value:"",etag:t?t.etag:"",version:t?t.version:H.requestVersion,exception:!!t&&t.exception}),0===e)n("success");else if(1===e)n("success"),c.version=H.requestVersion,yield H.db.setItem(c);else if(2===e){let e=l(c.key),t=["js","ts","css","svg","text","xml","json","html","htm"].includes(e)?"text":"arraybuffer",s=(u=_asyncToGenerator(function*(e){c.version=0,c.value="",c.exception={code:e,detail:`Error-${e} ! ${i[e]||""}`},yield H.db.setItem(c),n(`${c.key} 返回 ${c.exception.detail}`)}),function(e){return u.apply(this,arguments)});if(window.fetch){let e=yield fetch(o).catch(function(e){return s("TypeError"===e.name?0:e.name)});if(e.ok){let a="arraybuffer"===t?yield e.arrayBuffer():yield e.text();Object.assign(c,{value:a,etag:e.headers.get("etag")||e.headers.get("last-modified")||"",version:H.requestVersion,exception:!1}),yield H.db.setItem(c),n("success")}else yield s(e.status)}else{let e=new r;e.open("GET",o),e.responseType=t,e.send(),e.onreadystatechange=_asyncToGenerator(function*(){if(4!==Number(e.readyState))return!1;if(H.showLog&&C++,200===Number(e.status)){let a=e["arraybuffer"===t?"response":"responseText"];Object.assign(c,{value:a,etag:e.getResponseHeader("etag")||e.getResponseHeader("last-modified")||"",version:H.requestVersion,exception:!1}),yield H.db.setItem(c),n("success")}else e.abort(),yield s(e.status)}),e.onerror=function(t){e.abort(),a(t)}}}var u}),function(e,t){return u.apply(this,arguments)});var u;H.db.getItem(s).then(function(e){m(e,o).then(function(t){return c(t,e)}).catch(function(e){return console.error(e)})})})}),function(e,t){return b.apply(this,arguments)});var b;let w=function(e){if(""!==o)return Function(Object.values(e).join(";"))(),!0;let t=document.createElement("script"),a=1===Object.keys(e).length?Object.keys(e)[0]:"_js"+H.requestVersion;a=a.split("|")[0].replace(/(\.css)|(\.min)/g,""),t.setAttribute("type","text/javascript"),t.setAttribute("data-name",a),t.innerHTML=Object.values(e).join(";"),n.appendChild(t)},D=function(e){let t,a=1===Object.keys(e).length?Object.keys(e)[0]:"_css"+H.requestVersion;if(a=a.split("|")[0].replace(/(\.css)|(\.min)/g,""),""!==o&&null!==(t=n.querySelector(`[data-name=${a}]`)))return t.innerHTML+=Object.values(e).join(" "),!1;(t=document.createElement("style")).setAttribute("type","text/css"),t.setAttribute("data-name",a),t.innerHTML=Object.values(e).join(" "),n.appendChild(t)},j=(A=_asyncToGenerator(function*(e){Object.keys(e).forEach(function(t){document.fonts.add(new FontFace(t.replace(/^.*\/|\..*$/g,""),e[t]))})}),function(e){return A.apply(this,arguments)});var A;let x=function(e){if(!document.head)return!1;let t=document.createElement("script");y(t,e.split("|").splice(1)),t.src=0===e.indexOf("http")?e.split("|")[0]:e.split("|")[0].replace(".js","")+o+".js?v="+H.requestVersion,n.appendChild(t)},S=function(e){if(!document.head)return!1;let t=document.createElement("link");y(t,e.split("|").splice(1)),t.type="text/css",t.rel="stylesheet",t.media="screen",t.href=0===e.indexOf("http")?e.split("|")[0]:e.split("|")[0].replace(".css","")+o+".css?v="+H.requestVersion,n.appendChild(t)},B=(_=_asyncToGenerator(function*(e,t){return new Promise(function(n,a){let r={JS:w,CSS:D,FONT:j}[t.toUpperCase()],i={},s=[];e.forEach(function(e){i[e]="";s.push(new Promise(function(n,a){const r=p(e,t),s=""===o?r:c.encode(r);let l=H.db.temp[s]?H.db.temp[s]:"";i[e]=l.value,H.returnData.push({key:e,value:l.value||"",version:l.version,etag:l.etag,exception:l.exception||!1}),n("success")}))}),Promise.all(s).then(function(){return 1===H.preload?(n("success"),!1):r?(r(i),void n("success")):n("页面写入仅支持js、css、font")}).catch(function(e){return a(e)})})}),function(e,t){return _.apply(this,arguments)});var _;let F=function(e,t){return e&&0!==e.length?new Promise(H.multiLoad?function(e,t){return n=_asyncToGenerator(function*(n){let a=new Array(e.length).fill(0).map(function(n,a){return new Promise((r=_asyncToGenerator(function*(n){yield g(e[a],t),n("success")}),function(e){return r.apply(this,arguments)}));var r});var r;Promise.all(a).then((r=_asyncToGenerator(function*(a){yield B(e,t),n("success")}),function(e){return r.apply(this,arguments)}))}),function(e){return n.apply(this,arguments)};var n}(e,t):function(e,t){return n=_asyncToGenerator(function*(n){let a=0,r=(o=_asyncToGenerator(function*(){if(a>=e.length)return!0;yield g(e[a],t),yield B([e[a]],t),yield r(a++)}),function(){return o.apply(this,arguments)});var o;yield r(),n("success")}),function(e){return n.apply(this,arguments)};var n}(e,t)):new Promise(e=>e("success"))};var G,k,$,O;this.returnData={},this.run=_asyncToGenerator(function*(){return"Array"===a(this.lifeCycle)&&(H.cycleDelay=this.lifeCycle[1],H.lifeCycle=this.lifeCycle[0]),H.requestVersion=s(H.lifeCycle,H.cycleDelay),H.db=new u({lifeCycle:H.lifeCycle,cycleDelay:H.cycleDelay}),this.db.getUrl=h,this.returnData={},H.returnData=[],H.dataCss=H.dataCss.map(function(e){return f("_css"===e?L:e,"css")}),H.dataCss=Array.from(new Set(H.dataCss)),H.dataJs=H.dataJs.map(function(e){return f("_js"===e?L:e,"js")}),H.dataJs=Array.from(new Set(H.dataJs)),H.dataFont=H.dataFont.map(function(e){return f(e,"")}),H.dataFont=Array.from(new Set(H.dataFont)),H.dataFile=H.dataFile.map(function(e){return f(e,"")}),H.dataFile=Array.from(new Set(H.dataFile)),yield F(H.dataCss,"css"),yield F(H.dataFont,"font"),yield F(H.dataJs,"js"),yield F(H.dataFile,""),H.showLog&&function(){let t=Date.now()-T;e.headLoaderHistory=void 0!==e.headLoaderHistory?e.headLoaderHistory:[],void 0!==e.showLogTimeout&&clearTimeout(e.showLogTimeout),e.showLogTimeout=setTimeout(()=>{C>0&&(e.headLoaderHistory=e.headLoaderHistory.concat(new Array(C-1).fill(0),t));let n=0,a=0;e.headLoaderHistory.length>0&&(n=e.headLoaderHistory.reduce((e,t)=>e+t),a=Math.ceil(n/e.headLoaderHistory.length)),console.log("当前页面使用headLoader"+(H.multiLoad?"并行":"串行")+"网络请求%c"+C+"个%cJS/CSS文件，程序用时%c"+t+"毫秒%c，累计网络请求%c"+e.headLoaderHistory.length+"个%cJS/CSS文件，单文件平均用时%c"+a+"毫秒","color:#1b8884","","color:#1b8884","","color:#1b8884","","color:#1b8884","")},3e3)}(),"function"==typeof H.callback&&H.callback.call(H,H.returnData),0!==H.returnData.length&&(1===H.returnData.length?H.returnData[0]:H.returnData)}),this.loadFile=(G=_asyncToGenerator(function*(e,t){return H.dataCss=[],H.dataJS=[],H.dataFont=[],H.dataFile=[e].flat(),H.preload=1,yield H.run()}),function(e,t){return G.apply(this,arguments)}),this.loadJs=(k=_asyncToGenerator(function*(e){return H.dataCss=[],H.dataJs=[e].flat(),H.dataFont=[],H.dataFile=[],H.preload=1,yield H.run()}),function(e){return k.apply(this,arguments)}),this.loadCss=($=_asyncToGenerator(function*(e){return H.dataCss=[e].flat(),H.dataJS=[],H.dataFont=[],H.dataFile=[],H.preload=1,yield H.run()}),function(e){return $.apply(this,arguments)}),this.loadFont=(O=_asyncToGenerator(function*(e){return H.dataCss=[],H.dataJS=[],H.dataFont=[e].flat(),H.dataFile=[],H.preload=1,yield H.run()}),function(e){return O.apply(this,arguments)}),this.nextLife=function(e,t){let n,r;return"Array"===a(H.lifeCycle)?(n=H.lifeCycle[0],r=H.lifeCycle[1]):"Number"===a(H.lifeCycle)&&(n=e||H.lifeCycle,r=t||H.cycleDelay),new Date(s(n,r)).toLocaleString()};let H=this};e.headLoader=y,e.hLoader=y;let h,p=[],m=[],g=[],b=[],v=!1,w=24,D=0,C=1,T=Date.now();d=document.currentScript;let j=console.log&&".min"!==o,A=!1,L=(window===window.top?location.pathname:window.frameElement.getAttribute("src")||window.frameElement.pathname||"/404.html").replace(/^(.*\/)(.*)(\.html)([?]*)(.*)$/,"$1$2$4$5");"/"===L.substr(-1)&&(L+="index"),L=0===L.indexOf("/")?L.substr(1):L,d.hasAttribute("data-active")?v=["true",""].includes(d.getAttribute("data-active")):j&&console.log('%c友情提示:script标签未设置"data-active"属性,默认为false.',"color:#69F;"),d.hasAttribute("data-lifecycle")&&(w=Number(d.getAttribute("data-lifecycle"))),d.hasAttribute("data-cycledelay")?D=Number(d.getAttribute("data-cycledelay")):j&&console.log('%c友情提示:script标签未设置"data-lifeCycle"属性,默认为0(开发环境)或24小时(线上环境）.',"color:#69F;"),d.hasAttribute("data-dir")?h=d.getAttribute("data-dir"):j&&console.log('%c友情提示:script标签未设置"data-dir"属性.',"color:#69F;"),d.hasAttribute("data-css")?m=d.getAttribute("data-css").split(","):j&&console.log('%c友情提示:script标签未设置"data-css"属性',"color:#69F;"),d.hasAttribute("data-js")?p=d.getAttribute("data-js").split(","):j&&console.log('%c友情提示:script标签未设置"data-js"属性',"color:#69F;"),d.hasAttribute("data-font")&&(g=d.getAttribute("data-font").split(",")),d.hasAttribute("data-file")&&(b=d.getAttribute("data-file").split(",")),d.hasAttribute("data-showlog")&&(A=["true",""].includes(d.getAttribute("data-showlog"))),""!==o&&d.remove();const x=(S=_asyncToGenerator(function*(){let e=d.src.replace(/.+\.js\?v=(.*)/,"$1");if(e&&".min"===o){let t=new y;t.lifeCycle=876e3,yield t.run();try{if((yield t.db.getValue("srcSearch"))!==e){console.log("检测到新版本，准备清除旧缓存...");try{yield t.db.delete(),yield t.db.setValue("srcSearch",e)}catch(e){console.warn("删除数据库时出错:",e.message)}}}catch(e){console.error("版本检查出错:",e)}}}),function(){return S.apply(this,arguments)});var S;const B=(_=_asyncToGenerator(function*(){if(!document.head)return!1;let e=new y;e.lifeCycle=w,e.cycleDelay=D,h&&(e.dataDir=h),m.length>0&&(e.dataCss=m),p.length>0&&(e.dataJs=p),g.length>0&&(e.dataFont=g),b.length>0&&(e.dataFile=b),e.showLog=A,yield e.run()}),function(){return _.apply(this,arguments)});var _;x().then(B)};headLoaderSource(),getHeaderLoader=(e=>`function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(r,o){try{var s=t[r](o),i=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}} const headLoaderSource=${headLoaderSource};headLoaderSource()`);
